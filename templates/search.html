{% load static %}
{% include "users/header4.html" %}


<!-- bootstrap css -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">

<!-- icon css -->
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.3/css/all.css"
    integrity="sha384-SZXxX4whJ79/gErwcOYf+zWLeJdY/qpuqC4cAa9rOGUstPomtqpuNWT9wdPEn2fk" crossorigin="anonymous">
  
   
<!-- JavaScript -->
<script src="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/alertify.min.js"></script>

<!-- CSS -->
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/alertify.min.css"/>

<!-- Bootstrap theme -->
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/themes/bootstrap.min.css"/>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>


<style>

  .card {
    margin-bottom: 20px;
    width: 300px;
    
}

.card-image img{
    margin-top: 0px;
    height: 200px;
    width: 100%;
    
}

.card-inner {
    padding: 20px
}

.price span {
    color: rgb(255, 72, 0);
    font-weight: 600;
    font-size: 20px
}



.details {
    border-radius: 20px;
    width: 110px;
    height: 40px;
    /* display: flex; */
    justify-content: center;
    align-items: center
}
.details:hover{
    color: black;
    background-color: white;
}



.row{
    margin-top: 30px;
    display: flex;
}

.wishlist {
  width: 40px;
  height: 38px;
  border-radius: 5px;
  position:absolute;
  background: rgba(255, 0, 0, 0.658);
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  transition: 0.5s all;
  font-size: 15px;
  bottom:0;
  right:0;
  margin-bottom:10px;
  margin-right:20px;
 

}

.wishlist:hover {
    color: black;
    background-color: black;
    
}

 .cart{
    background-color: rgba(0, 119, 255, 0.753);
    
}

.cart:hover {
     color: black;
    background-color: black;
    
} 

.fa-heart {
    font-size: 23px;
    
    
}


.fa-heart {
    color:white;
    
    
}
h4 {
  text-align: center;
  
}

.text-center{
  margin-top: 30px;
}
.card1 {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  margin-bottom: 20px;
  width: 300px;
}

.card-image1 img{
  margin-top: 0px;
  height: 200px;
  width: 100%;
  
}

.card-inner1 {
  padding: 20px
}


#item{
  margin-top:15px;
  margin-left:150px;
 
 }

 #item1{
  margin-top:15px;
  margin-left:180px;
  display: flex;
  align-items: center;
 
 }
 
 #diffbet{
  margin-top:10px;
  
}
#makedif{
  margin-bottom:10px;
}
.nameauthor{
  margin-top:10px;
}

#Recommendationeng{
  margin:80px;
}
.bookno{
  height:100px;
}
.cart-message {
  text-align: center;
  font-size: 18px;
  color: #333;
  padding: 20px;
  background-color: #BFE6FF;
  
  border: 1px solid #ccc;
  border-radius: 4px;
  width:400px;
  margin-left:450px;
  margin-top:20px;
}
#messagesize{
  width:300px;
  top:10%;
  right:0%;
  margin-left:950px;

  
 }
</style>


   
  <!--books-->
{% if query %}
<h4 class="text-center">Search Results for "{{ query }}"</h4>
<div class="container">
  <div class="book_data">
    <div class="row justify-content-center">
      {% for book in books %}
      <div class="col-xl-4 col-lg-4 col-md-4 col-sm-6 margin d-flex justify-content-center align-items-center">
        <div class="card" style="height: 380px;">
          <div class="card-image"><a href="{% url 'book_detail' book_id=book.pk %}"><img src="{{book.coverImg}}"></a></div>
          <div class="card-inner">
            <h6 id="makedif" class="mb-0">{{book.title}}</h6>  
                    <div class="nameauthor">    
                        <h8 class="mb-0 italic-text">{{book.author}}</h8>
                    </div>
                    <div class="price" id="diffbet"><span> Rs {{book.price}}</span> 
                    <!-- 
                    <div class="mt-3 d-flex justify-content-between align-items-center" style="display: flex;"> <a href="{% url 'book_detail' book_id=book.pk %}"><button class="btn btn-success text-uppercase btn-sm details" >Details</button></a>
                        --> 
                   
                        <div class="d-flex flex-row" id="item"> 
                        
                            <button style="margin-left:10px;" class="wishlist btn mt-1 mr-2"><a href="{% url 'addwishlist' book.bookID %}"><i class="fas fa-heart"></i></a></button>
                        </div>
          
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</div>
{% else %}
<div class="cart-message">
  <p>No books found matching your search query but few recommendation for you</p>
</div>
{% endif %}


  {% if recommended_books %}
  <br>
  <h4>Recommended Books for you</h4>
  
  <div class="container row" id="Recommendationeng">
    {% for book in recommended_books %}
      <div class="col-xl-4 col-lg-4 col-md-4 col-sm-6 margin d-flex justify-content-center align-items-center" style="display: flex;">
        <div class="card" style="height:380px;"> 
          <div class="card-image"> 
            <a href="{%url 'book_detail' book.bookID%}"><img src="{{book.coverImg}}"></a> 
          </div>
          <div class="card-inner"> 
            <h6 id="makedif" class="mb-0">{{book.title}}</h6>  
            <div class="nameauthor">    
                <h8 class="mb-0 italic-text">{{book.author}}</h8>
            </div>
            <div class="price" id="diffbet"><span> Rs {{book.price}}</span> 
  
           
                <div class="d-flex flex-row" id="item"> 
                
                    <button style="margin-left:10px;" class="wishlist btn mt-1 mr-2"><a href="{% url 'addwishlist' book.bookID %}"><i class="fas fa-heart"></i></a></button>
                </div>
               
              
            </div>
          </div>
        </div>   
      </div>
    {% endfor %}
  </div>
        
{% else %}
<div class="cart-message">
  <p>No books found.</p>
</div>
<div class="bookno"></div>
{% endif %}

{% if messages %}
<div class="fixed-bottom" id="messagesize" style="right: 0; z-index: 0; min-width: 10px;">
    <div class="alert alert-info fade show" role="alert" style="font-size: 14px; margin-bottom: 30px;">
        {% for message in messages %}
            {{ message }}
        {% endfor %}
    </div>
</div>
<script>
    // Hide alert message after 5 seconds
    setTimeout(function(){
        document.querySelector('.alert').style.display = 'none';
    }, 5000);
</script>
{% endif %}
{%include "footer.html"%}

   






